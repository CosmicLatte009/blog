# ìœ„ë‹ˆë¸”ë¡œê·¸ ëšë”±ëšë”± ì»¤ìŠ¤í…€ ê¸°ë¡ (2)

ğŸ‘ˆ [ìœ„ë‹ˆë¸”ë¡œê·¸ ëšë”±ëšë”± ì»¤ìŠ¤í…€ ê¸°ë¡ (1)](https://weniv.link/HwR_cb) ì—ì„œ ì™œ ìœ„ë‹ˆë¸”ë¡œê·¸ì— ì •ì°©í–ˆëŠ”ì§€ì™€ meta íƒœê·¸ ì„¤ì •ë²•, ì¸ë¼ì¸ ì½”ë“œ ìŠ¤ë‹ˆí« ìŠ¤íƒ€ì¼ë§ ë¶„ë¦¬ ë“±ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ìœ„ë‹ˆë¸”ë¡œê·¸ì— ë˜ ì–´ë–¤ ì»¤ìŠ¤í…€ì´ í•„ìš”í•œê±´ì§€?

ë¸”ë¡œê·¸ì—ì„œ ëª‡ê°€ì§€ ê³ ì¹˜ê³  ì‹¶ì€ ë¶€ë¶„ì„ ë°œê²¬í–ˆë‹¤.

1. ì½”ë“œë¸”ë¡ì˜ ë³µì‚¬ë²„íŠ¼ì´ ì½”ë“œ ë‚´ìš©ì„ ê°€ë¦°ë‹¤.
2. ë¸”ë¡œê·¸ ì¹´í…Œê³ ë¦¬ ì„ íƒ í›„ í•´ë‹¹ ì¹´í…Œê³ ë¦¬(í¬ìŠ¤íŠ¸ ëª¨ìŒ) í˜ì´ì§€ëŠ” ìƒˆ ì°½ì—ì„œ ë°”ë¡œ ì—´ ìˆ˜ ì—†ë‹¤.
3. ë’¤ë¡œê°€ê¸°, ì•ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ í´ë¦­í•´ë„ ë°”ë¡œ ì´ì „ í˜ì´ì§€ë¡œ ë„˜ì–´ê°€ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆë‹¤.

ì–¸ì œë¶€í„° ì´ ë¬¸ì œê°€ ë°œìƒí•œê±´ì§€ ëª¨ë¥´ê² ì§€ë§Œ ì¼ë‹¨ ë‹¨ìˆœíˆ ìŠ¤íƒ€ì¼ ë³€ê²½í•˜ëŠ”ê²ƒë³´ë‹¤ ì—¬ëŸ¬ ì½”ë“œë¥¼ ê±´ë“œë ¤ì•¼í•˜ëŠ” ê²ƒì€ í™•ì‹¤í–ˆë‹¤...
í•˜ì§€ë§Œ ì´ ê·€ì—¼ë‘¥ì´ğŸ°ğŸ€..ìœ„ë‹ˆë¸”ë¡œê·¸ë¥¼ í¬ê¸°í•  ìˆ˜ ì—†ì—ˆë‹¤...ì´ë¯¸ ë‚´ ì…ë§›ì— ë§ê²Œ ì»¤ìŠ¤í…€í•œ ê¹€ì— ë” í•´ë³´ê¸°ë¡œ ê²°ì •í–ˆë‹¤.

#### ì»¤ìŠ¤í…€ ì‹œì‘! ğŸ°ë¸”ë¡œê·¸ì•¼ ì‚´ì•„ë‚˜ë¼...

##### 1. ì½”ë“œë¸”ë¡ hover ì‹œì—ë§Œ ë³µì‚¬ë²„íŠ¼ì´ ë³´ì´ê²Œë” í•˜ê¸°

ì½”ë“œë¸”ë¡ ì•ˆì—ì„œ ë³µì‚¬ë²„íŠ¼ì´ ì½”ë“œ ìœ„ë¥¼ ê°€ë¦´ ë•Œê°€ ìˆì–´ì„œ hover ì‹œì—ë§Œ ë²„íŠ¼ì´ ë³´ì´ê²Œë” ìˆ˜ì •í•´ì£¼ì—ˆë‹¤.

`@at-root`ëŠ” SCSSì—ì„œ ì¤‘ì²©ëœ ê·œì¹™ ëŒ€ì‹  í˜„ì¬ ìœ„ì¹˜ì—ì„œì˜ ë¶€ëª¨ ìˆ˜ì¤€ìœ¼ë¡œ ì´ë™ì‹œí‚¨ë‹¤.
pre ìš”ì†Œ(ì½”ë“œë¸”ë¡)ì—ì„œ hoverë¥¼ í•´ì•¼ #copy-buttonì´ ë³´ì´ëŠ” ê²ƒì´ë‹ˆ #copy-buttonì— ê´€ë ¨ëœ ìŠ¤íƒ€ì¼ì´ì–´ë„ preìš”ì†Œì˜ ìŠ¤íƒ€ì¼ì„ ê±´ë“œë ¤ì•¼í•œë‹¤.
==ì¦‰, ë¶€ëª¨ ìš”ì†Œì˜ ìƒíƒœì— ë”°ë¼ ìì‹ ìš”ì†Œì˜ ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•˜ë˜, ìì‹ ìš”ì†Œì— ê´€ë ¨ëœ ìŠ¤íƒ€ì¼ì„ì„ ë¶„ëª…íˆ í•˜ê³  ì‹¶ì„ ë•Œ ìœ ìš©í•˜ë‹¤.==
copy-buttonì˜ ìŠ¤íƒ€ì¼ì„ ì¡°ì •í•˜ëŠ”ê²ƒì¸ë° ë¶€ëª¨ ìš”ì†Œì¸ preìš”ì†Œì—ì„œ ìŠ¤íƒ€ì¼ì„ ì¡°ì •í•˜ë¯€ë¡œ ì‚¬ìš©í•´ë³´ì•˜ë‹¤.

```scss
#copy-button {
	width: 2.625rem;
	height: 2.625rem;
	display: none;
	align-items: center;
	justify-content: center;

	@at-root pre:hover & {
		display: flex;
	}

	&:hover::after,
	&.active::after {
		background-color: $surface;
	}
	&::after {
		content: "";
		width: 100%;
		height: 100%;
		@include mask-image("../img/icon/icon-copy.svg", $graylv3);
	}
}
```

##### 2. ë¸”ë¡œê·¸ ì¹´í…Œê³ ë¦¬ í´ë¦­ ì‹œ urlì— í‘œì‹œë˜ë„ë¡ ìˆ˜ì •

íŠ¹ì • í¬ìŠ¤íŠ¸ëŠ” ê³µìœ ê°€ ê°€ëŠ¥í•œë°, íŠ¹ì • ë¸”ë¡œê·¸ ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ëŠ” ê³µìœ í•´ë„ ë¹ˆ í˜ì´ì§€ê°€ ëœ¨ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.
ë¬¸ì œê°€ ë­”ê°€...í–ˆë”ë‹ˆ...ì¹´í…Œê³ ë¦¬ë¥¼ í´ë¦­í•´ë„ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ ì •ë³´ê°€ urlì— í‘œì‹œë˜ê³  ìˆì§€ ì•Šì•˜ë‹¤.

ë’¤ë¡œê°€ê¸°, ì•ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ í´ë¦­í•´ë„ ë°”ë¡œ ì´ì „ í˜ì´ì§€ë¡œ ë„˜ì–´ê°€ì§€ ì•ŠëŠ” ê²½ìš°ë„ ì´ ë¬¸ì œ ë•Œë¬¸ì— ìƒê¸°ëŠ” ê²ƒ ê°™ì•˜ë‹¤. ì¹´í…Œê³ ë¦¬ë¥¼ í´ë¦­ í›„, í¬ìŠ¤íŠ¸ë¥¼ í´ë¦­í•˜ë©´ í¬ìŠ¤íŠ¸ í˜ì´ì§€ì—ì„œ ë’¤ë¡œê°€ê¸° í–ˆì„ ë•Œ ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ë¡œëŠ” ë„˜ì–´ê°€ì§€ì§€ ì•Šì•˜ë˜ ê²ƒì´ë‹¤.

2-1. render.js (507ë²ˆì§¸ì¤„ ì•„ë˜)ì˜ **renderBlogCategory()** í•¨ìˆ˜ ì•ˆì—ì„œ categoryItem í´ë¦­ì‹œ URLë¥¼ ì—…ë°ì´íŠ¸í•´ì£¼ëŠ” ì½”ë“œë¥¼ ì¶”ê°€ë¡œ ì‘ì„±í•´ì¤€ë‹¤.

```js
categoryItem.onclick = (event) => {
	// URL ì—…ë°ì´íŠ¸
	const url = new URL(window.location.href);
	url.searchParams.set("category", category);
	window.history.pushState({}, "", url);

	// ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ìˆ˜í–‰
	search(category, "category");
};
```

2-2. URLparsing.js (69ë²ˆì§¸ì¤„)ì—ì„œ ì¹´í…Œê³ ë¦¬ë³„ í¬ìŠ¤íŠ¸, ì „ì²´ í¬ìŠ¤íŠ¸ ë“±ì„ ë¡œë”©í•´ì˜¤ëŠ” ë¡œì§ì„ `handleUrlState()`ë¡œ í†µí•©í•´ì¤€ë‹¤.

render.js (673ë²ˆì§¸ì¤„)ì˜ ì´ˆê¸°ë¡œë“œ í•¨ìˆ˜ì¸ **initialize()**ì™€
URLparsing.js (69ë²ˆì§¸ì¤„)ì˜ ë’¤ë¡œê°€ê¸°, ì•ìœ¼ë¡œê°€ê¸° ë²„íŠ¼ ì²˜ë¦¬ í•¨ìˆ˜ì¸ **window.addEventListener("popstate", async (event) => {}** ì–‘ìª½ì—ì„œ
íŠ¹ì • ë¸”ë¡œê·¸ ì¹´í…Œê³ ë¦¬ urlë¥¼ ì²˜ë¦¬í•´ì¤˜ì•¼í•˜ë¯€ë¡œ urlì— ë”°ë¥¸ ë¡œë“œë¥¼ ì²˜ë¦¬í•´ì£¼ëŠ” í•¨ìˆ˜ì¸ `handleUrlState()`ë¥¼ ì‘ì„±í–ˆë‹¤.

**initialize()** í•¨ìˆ˜ëŠ” ì œê±°í•´ì£¼ê³ , í˜ì´ì§€ ë¡œë“œ ì‹œ URL ìƒíƒœ ì²˜ë¦¬ëŠ” **window.addEventListener("DOMContentLoaded", async () => {});** ë¡œ ëŒ€ì‹ í•œë‹¤.

```js
let isInitialLoad = true; // í˜ì´ì§€ ìµœì´ˆ ë¡œë“œ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ë³€ìˆ˜

async function handleUrlState() {
	const url = new URL(window.location.href);

	if (url.searchParams.get("category")) {
		// ì¹´í…Œê³ ë¦¬ë³„ í¬ìŠ¤íŠ¸ ë¡œë”©
		if (isInitialLoad) {
			await initDataBlogMenu();
			renderMenu();
			await initDataBlogList();
			renderBlogCategory();
		}
		const category = url.searchParams.get("category").toLowerCase();
		if (category === "all") {
			renderBlogList(blogList); // ì „ì²´ í¬ìŠ¤íŠ¸ ë Œë”ë§
		} else {
			search(category, "category");
		}
	} else if (!url.searchParams.get("menu") && !url.searchParams.get("post")) {
		// ë¸”ë¡œê·¸ ë¦¬ìŠ¤íŠ¸ ë¡œë”©
		if (isInitialLoad) {
			await initDataBlogMenu();
			renderMenu();
			await initDataBlogList();
			renderBlogCategory();
		}
		renderBlogList();
	} else if (url.searchParams.get("menu")) {
		// ë©”ë‰´ ìƒì„¸ ì •ë³´ ë¡œë”©
		document.getElementById("blog-posts").style.display = "none";
		document.getElementById("contents").style.display = "block";
		try {
			const response = await fetch(
				origin + "menu/" + url.searchParams.get("menu")
			);
			const text = await response.text();
			styleMarkdown("menu", text);
		} catch (error) {
			styleMarkdown("menu", "# Errorì…ë‹ˆë‹¤. íŒŒì¼ëª…ì„ í™•ì¸í•´ì£¼ì„¸ìš”.");
		}
	} else if (url.searchParams.get("post")) {
		// ë¸”ë¡œê·¸ ìƒì„¸ ì •ë³´ ë¡œë”©
		document.getElementById("contents").style.display = "block";
		document.getElementById("blog-posts").style.display = "none";
		const postName = decodeURI(url.searchParams.get("post")).replaceAll(
			"+",
			" "
		);
		const postInfo = extractFileInfo(postName);
		try {
			const response = await fetch(origin + "blog/" + postName);
			const text = await response.text();
			postInfo.fileType === "md"
				? styleMarkdown("post", text, postInfo)
				: styleJupyter("post", text, postInfo);
		} catch (error) {
			styleMarkdown("post", "# Errorì…ë‹ˆë‹¤. íŒŒì¼ëª…ì„ í™•ì¸í•´ì£¼ì„¸ìš”.");
		}
	} else {
		alert("ì˜ëª»ëœ URLì…ë‹ˆë‹¤.");
	}

	isInitialLoad = false; // ìµœì´ˆ ë¡œë“œ ì´í›„ë¡œ ì„¤ì •
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ URL ìƒíƒœ ì²˜ë¦¬
window.addEventListener("DOMContentLoaded", async () => {
	await handleUrlState();
});

// ë¸Œë¼ìš°ì €ì˜ ë’¤ë¡œê°€ê¸°/ì•ìœ¼ë¡œê°€ê¸° ë²„íŠ¼ ì²˜ë¦¬
window.addEventListener("popstate", async (event) => {
	await handleUrlState();
});
```

#### ì¶”ê°€ì ìœ¼ë¡œ í•˜ê³  ì‹¶ì€ ê²ƒ

- contact, about menuì—ì„œëŠ” paginationì´ ë‚˜ì˜¤ì§€ ì•Šê²Œ ì²˜ë¦¬í•˜ê¸°

---
